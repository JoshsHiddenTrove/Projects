import random as rd

def passwordGenerator (Size, CapitalsReq, SpecialCharReq, ):
    if(CapitalsReq + SpecialCharReq > Size):
        print("Check your math son")
        return ""
    holder = ""
    for y in range(CapitalsReq):
        holder += chr(rd.randint(65,90))
    for z in range(SpecialCharReq):
        holder += chr(rd.randint(32,47))
    for x in range(Size-CapitalsReq -SpecialCharReq):
        holder += chr(rd.randint(32,126))
    holder = ''.join(rd.sample(holder,len(holder)))
    return holder

def GetUsername():
    Username = ""
    while True:
        Username = raw_input("Is there a username you would want to save w/ this password?(Y/n)")
        if Username == "Y" or Username == "y":
            SavedNamed = raw_input("What is the username you'd Like to add?")
            return SavedNamed
        elif Username == "N" or Username == "n":
            return ""
        else:
            print("Sorry that was not a option.")

def getParameters():
    Length = 0
    SpecialChar = -1
    Cap = -1
    while Length <= 0:
        try:
            Length = input("How long of a password do you need?")
            if Length < 0:
                print("This some kinda joke kid?")
        except:
            print("Not a valid input")
    while SpecialChar < 0:
        try:
            SpecialChar = input("How many special characters do you need?")
            if SpecialChar < 0:
                print("This some kinda joke kid?")
        except:
            print("Not a valid input")
    while Cap < 0:
        try:
            Cap = input("How many Capital letters do you need?")
            if Cap < 0:
                print("I am done playin your games")
        except:
            print("Not a valid input")
    if(Cap + SpecialChar > Length):
        print("Check your math son")
        temp = "null"
        return temp
    else:
        temp = passwordGenerator(Length,SpecialChar,Cap)
        return temp

def NewPassword():
    Use = raw_input("What will this password be used for?")
    Username = GetUsername()
    temp = getParameters()
    while temp == "null":
        temp = getParameters()
    UsernamesNPasswords = open("Usernames-Passwords.txt", "a")
    if Username != "":
        UsernamesNPasswords.write(Use +"\n     Username: " + Username + "\n" + "     Password: " + temp + "\n\n")
    else:
        UsernamesNPasswords.write(Use + "\n Password:" + temp + "\n")
    UsernamesNPasswords.close()


while True:
    UserInput = raw_input("You addin a password bud?(Y/n)")
    if(UserInput == "n" or UserInput == "N"):
        break
    elif UserInput == "Y" or UserInput == "y":
        NewPassword()
        print("Password has been saved in the Usernames-Passwords.txt file")
    else:
        print("Did you even look at the options?")
