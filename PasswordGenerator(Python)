import random as rd

def passwordGenerator (Size, CapitalsReq, SpecialCharReq, ):
    if(CapitalsReq + SpecialCharReq > Size):
        print("Check your math son")
        return ""
    holder = ""
    for y in range(CapitalsReq):
        holder += chr(rd.randint(65,90))
    for z in range(SpecialCharReq):
        holder += chr(rd.randint(32,47))
    for x in range(Size-CapitalsReq -SpecialCharReq):
        holder += chr(rd.randint(32,126))
    holder = ''.join(rd.sample(holder,len(holder)))
    return holder

def NewPassword():
    Use = raw_input("What will this password be used for?")
    Username = ""
    while Username != "n":
        Username = raw_input("Is there a username you would want to save w/ this password?(Y/n)")
        if Username == "Y" or Username == "y":
            SavedNamed = raw_input("What is the username youd Like to add?")
            break
        elif Username != "Y" or Username != "y":
            break
        else:
            print("Sorry that was not a option. \n Is there a username you would want to save w/ this password?(Y/n)")
    Length = input("How long should this password be?")
    Cap = input("How many Capitals are required?")
    SpecialChar = input("How many special characters are required?")
    UsernamesNPasswords = open("Usernames-Passwords.txt", "a")
    temp = passwordGenerator(Length,Cap,SpecialChar)
    if temp == "":
        return
    if Username == "Y" or Username == "y":
        temp = passwordGenerator(Length,Cap,SpecialChar)
        UsernamesNPasswords.write(Use +"\n     Username: " + SavedNamed + "\n" + "     Password: " + temp + "\n\n")
    else:
        UsernamesNPasswords.write(Use + "\n Password:" + passwordGenerator(Length,Cap,SpecialChar) + "\n")
    UsernamesNPasswords.close()

while True:
    UserInput = raw_input("You adding a password today?(Y/n)")
    if(UserInput == "n"):
        break
    else:
        NewPassword()
        print("Password has been saved in  the Usernames-Passwords.txt file")
